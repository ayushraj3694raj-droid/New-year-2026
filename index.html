<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>37 Memories | Farewell 2026</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

<style>
    /* --- BASIC SETUP --- */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
        background: radial-gradient(circle, #2a0515, #000);
        color: #ffb6c1;
        font-family: 'Playfair Display', serif;
        height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }

    h1 { 
        font-size: 1.8rem; 
        margin-bottom: 20px; 
        color: #ff69b4;
        /* Glowing Text Effect */
        text-shadow: 0 0 10px #ff1493, 0 0 20px #ff1493;
    }

    .book-wrapper {
        width: 100%;
        display: flex;
        justify-content: center;
        perspective: 2000px;
        transition: transform 0.8s ease;
    }

    .book-open { transform: translateX(150px); }

    .book-scene { 
        width: 280px; 
        height: 400px; 
        position: relative;
        transform-style: preserve-3d;
    }

    @media (max-width: 600px) {
        .book-scene { width: 220px; height: 320px; }
        .book-open { transform: translateX(110px); }
    }

    .page {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        transform-origin: left;
        transform-style: preserve-3d;
        transition: transform 0.8s cubic-bezier(0.645, 0.045, 0.355, 1);
        cursor: pointer;
    }

    .front, .back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border: 1px solid #ff1493;
        border-radius: 5px 12px 12px 5px;
        padding: 15px;
        box-shadow: inset 0 0 30px rgba(255, 20, 147, 0.3), 0 0 15px rgba(255, 20, 147, 0.2);
    }

    .front { background: #000; z-index: 2; }
    .back { 
        background: #fff0f5; 
        color: #4a001f; 
        transform: rotateY(-180deg); 
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: 'Dancing Script', cursive;
        font-size: 1.1rem;
        text-align: center;
    }

    .page.flipped { transform: rotateY(-180deg); }

    /* --- PHOTO & TAPE STYLING --- */
    .photo-container {
        position: relative;
        width: 100%;
        height: 75%;
        margin-top: 10px;
        /* Thoda tircha effect yaha se control hoga (JS se random karenge) */
        transition: transform 0.3s;
    }

    .photo-frame {
        width: 100%;
        height: 100%;
        background: #fff;
        padding: 8px 8px 25px 8px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.6);
        border: 1px solid #ddd;
    }

    .photo-frame img { 
        width: 100%; 
        height: 100%; 
        object-fit: cover;
        /* Photo glowing border */
        box-shadow: 0 0 5px rgba(255, 105, 180, 0.5);
    }

    /* Transparent Tape Effect */
    .photo-container::before, .photo-container::after {
        content: "";
        position: absolute;
        width: 50px;
        height: 20px;
        background: rgba(255, 255, 255, 0.3);
        backdrop-filter: blur(2px);
        box-shadow: 0 0 5px rgba(0,0,0,0.1);
        z-index: 10;
    }
    /* Top Left Tape */
    .photo-container::before {
        top: -5px;
        left: -15px;
        transform: rotate(-35deg);
    }
    /* Bottom Right Tape */
    .photo-container::after {
        bottom: -5px;
        right: -15px;
        transform: rotate(-35deg);
    }

    /* --- CONTROLS --- */
    .controls { margin-top: 30px; display: flex; gap: 15px; }
    button {
        padding: 8px 20px;
        background: transparent;
        border: 2px solid #ff1493;
        color: #ffb6c1;
        border-radius: 20px;
        cursor: pointer;
        font-weight: bold;
        transition: 0.3s;
        box-shadow: 0 0 10px rgba(255, 20, 147, 0.3);
    }
    button:hover { background: #ff1493; color: white; box-shadow: 0 0 20px #ff1493; }

    .confetti { position: fixed; top: -20px; animation: fall linear forwards; }
    @keyframes fall { to { transform: translateY(110vh) rotate(720deg); opacity: 0; } }
</style>
</head>
<body>

<h1 id="mainTitle">ðŸ’ž Farewell Diaries '26 ðŸ’ž</h1>

<div class="book-wrapper" id="wrapper">
    <div class="book-scene" id="book"></div>
</div>

<div class="controls">
    <button onclick="toggleMusic()" id="musicBtn">ðŸ”‡ Music</button>
    <button onclick="resetBook()">â†» Reset Book</button>
</div>

<audio id="bgMusic" loop>
    <source src="https://www.bensound.com/bensound-music/bensound-memories.mp3" type="audio/mpeg">
</audio>

<script>
    const book = document.getElementById('book');
    const wrapper = document.getElementById('wrapper');
    const totalPages = 37;
    let isOpened = false;

    for (let i = 1; i <= totalPages; i++) {
        const page = document.createElement('div');
        page.className = 'page';
        page.style.zIndex = totalPages - i;

        // Photo ke liye random rotation angle (-3 to 3 degree)
        const randomRot = (Math.random() * 6 - 3).toFixed(2);

        if (i === 1) {
            page.innerHTML = `
                <div class="front" style="background: linear-gradient(45deg, #ff1493, #4a001f); display:flex; flex-direction:column; justify-content:center; align-items:center;">
                    <h2 style="color:white; text-shadow: 0 0 15px #fff;">OUR STORY</h2>
                    <p style="font-size:0.8rem; margin-top:10px; color:#ffb6c1;">37 Chapters of Us</p>
                </div>
                <div class="back"><p>The journey begins...</p></div>`;
        } else {
            page.innerHTML = `
                <div class="front">
                    <div class="photo-container" style="transform: rotate(${randomRot}deg)">
                        <div class="photo-frame">
                            <img src="https://picsum.photos/id/${i + 20}/300/400" alt="Memory">
                        </div>
                    </div>
                    <p style="text-align:center; margin-top:15px; font-size:0.9rem; font-weight:bold; color:#ff69b4; text-shadow: 0 0 5px #ff1493;">Memory #${i}</p>
                </div>
                <div class="back"><p>Doston ke saath bitaya gaya ek haseen lamha... âœ¨</p></div>`;
        }

        page.onclick = function() {
            if (!isOpened) { wrapper.classList.add('book-open'); isOpened = true; }
            this.classList.add('flipped');
            setTimeout(() => { this.style.zIndex = i; }, 300);
            createConfetti();
        };

        book.appendChild(page);
    }

    function resetBook() {
        const allPages = document.querySelectorAll('.page');
        isOpened = false;
        wrapper.classList.remove('book-open');
        Array.from(allPages).reverse().forEach((p, index) => {
            setTimeout(() => {
                p.classList.remove('flipped');
                setTimeout(() => {
                    allPages.forEach((pg, idx) => pg.style.zIndex = totalPages - idx);
                }, 800);
            }, index * 40); 
        });
    }

    const audio = document.getElementById("bgMusic");
    let isPlaying = false;
    function toggleMusic() {
        if (!isPlaying) { audio.play(); document.getElementById('musicBtn').innerText = "ðŸŽµ Music On"; }
        else { audio.pause(); document.getElementById('musicBtn').innerText = "ðŸ”‡ Music Off"; }
        isPlaying = !isPlaying;
    }

    function createConfetti() {
        for(let i=0; i<6; i++) {
            const c = document.createElement("div");
            c.className = "confetti";
            c.innerText = ["ðŸŒ¸", "ðŸ’–", "âœ¨", "ðŸ“¸"][Math.floor(Math.random()*4)];
            c.style.left = Math.random()*100+"vw";
            c.style.fontSize = "22px";
            c.style.animationDuration = (Math.random()*2+2)+"s";
            document.body.appendChild(c);
            setTimeout(() => c.remove(), 3000);
        }
    }
</script>

</body>
</html>
